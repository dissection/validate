!function(e,t,r){function o(e){for(var t=0;t<e.length;t++)e[t].required==r&&(e[t].$required=!1,e[t].$state=!0),e[t].required?(e[t].$required=!0,e[t].$state=!1):(e[t].$required=!1,e[t].$state=!0),e[t].custom||(e[t].custom=!1);return e}var s={v:"3.0.0",reg:{empty:"^\\s{0}$"}};s.create=function(e){return e.config=o(e.config),new i(e)};var i=function(e){console.log(e),this.opts=e};i.prototype.listen=function(){var t=this,r=this.opts,o=r.config;e.each(o,function(o,i){i.custom||e(i.elem).on("focus",function(){i.$state=!i.$required,r.init&&r.init(e(this)),r.notice&&r.notice(e(this),i.notice)}).on("blur",function(){new RegExp(s.reg.empty).test(e(this).val())?(i.$state=!i.$required,r.init&&r.init(e(this))):t.parsers(i,e(this).val())})})},i.prototype.commit=function(t){var r=this,o=this.opts,i=o.config;e.each(i,function(t,i){var n=e(i.elem),c=n.val();i.custom?i.$state?o.success&&o.success(n):i.cerror?o.error&&o.error(n,i.cerror):e.error("请设置报错项"):new RegExp(s.reg.empty).test(c)?(i.$state=!i.$required,o.init&&o.init(n),i.$required&&o.error&&o.error(n,i.required)):r.parsers(i,n.val())});for(var n=0;n<i.length;n++)if(!i[n].$state)return void(t.sbtError&&t.sbtError());t.sbtSucceed&&t.sbtSucceed()},i.prototype.parsers=function(t,r){var o=this.opts,s=t.error;if(s)for(var i=0;i<s.length;i++)s[i].level(r)?(t.$state=!0,o.success&&o.success(e(t.elem))):(t.$state=!1,o.error&&o.error(e(t.elem),s[i].msg))},i.prototype.setState=function(t,r,o){for(var s=this.opts.config,i=0;i<s.length;i++)if(s[i].elem==t){s[i].custom?(s[i].$state=r,r||("string"==typeof o?s[i].cerror=o:e.error("请填写正确的报错项"))):e.error("设置指定的报错项,必须是自定义列");break}},i.prototype.getState=function(e,t){for(var r=this.opts.config,o=0;o<r.length;o++)if(r[o].elem==e)return r[o].$state},t.Ovd=s}(jQuery,window);