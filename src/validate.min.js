!function(t,e,o){function r(t){for(var e=0;e<t.length;e++)t[e].custom!=o&&0!=t[e].custom||(t[e].custom=!1);return t}function s(t,e){var o={pass:!0};if(e&&e.length>0)for(var r=0;r<e.length;r++)if(!e[r].level(t)){o.pass=!1,o.msg=e[r].msg;break}return o}var i={v:"2.0.3"};i.create=function(t){return new n(t)};var n=function(t){this.option=t,this.option.vdn="data-vdn",this.option.config=r(this.option.config),this.empty=/^\s{0}$/};return n.prototype={constructor:n,listen:function(){var e=this,r=this.option,i=this.option.config;t.each(i,function(i,n){n.custom||t(n.elem).on("focus",function(){r.init&&r.init(t(this)),r.notice&&r.notice(t(this),n.notice)}).on("blur",function(){var i,c=t(this).val();console.log(e.empty.test(c)),e.empty.test(c)?r.init&&r.init(t(this)):(i=s(c,n.error),i.pass?r.success&&r.success(t(this)):0==i.msg||i.msg==o?void 0:r.error(t(this),i.msg))})})},commit:function(e){var o,r=this,i=this.option,n=this.option.config,c=!0;t.each(n,function(e,n){var u,f=t(n.elem),l=f.val();if(1==n.required||"string"==typeof n.required)if(n.custom){if(console.log(f.attr(i.vdn)),o="true"==f.attr(i.vdn),c="function"==typeof n.customcall?n.customcall(f,o):o,console.log(c),!c)return!1}else{if(r.empty.test(l))return"function"!=typeof i.required?t.error(n.elem+"元素:设置了required参数=>required方法必须存在"):i.required(f,n.required),c=!1,!1;if(u=s(l,n.error),!u.pass)return i.error(f,u.msg),c=!1,!1;i.success&&i.success(f)}else if(n.custom){if(o="true"==f.attr(i.vdn),c="function"==typeof n.customcall?n.customcall(f,o):o,console.log(c),!c)return!1}else if(!r.empty.test(l)){if(u=s(l,n.error),!u.pass)return i.error(f,u.msg),c=!1,!1;i.success&&i.success(f)}}),c?e.sbtSucceed&&e.sbtSucceed():e.sbtError&&e.sbtError()}},e.Ovd=i}(jQuery,window);