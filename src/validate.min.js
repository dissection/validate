!function(t,o,s){function i(t){for(var o=0;o<t.length;o++)t[o].custom!=s&&0!=t[o].custom||(t[o].custom=!1);return t}function n(t,o){var s={pass:!0};if(o&&o.length>0)for(var i=0;i<o.length;i++)if(!o[i].level(t)){s.pass=!1,s.msg=o[i].msg;break}return s}var e=function(t){this.option=t,this.option.vdn="vdn-pass",this.option.config=i(this.option.config),this.notempty=/^\S+$/,console.log(this.option.config)};e.prototype={constructor:e,listen:function(){var o=this,i=this.option,e=this.option.config;t.each(e,function(e,r){r.custom||t(r.elem).on("focus",function(){console.log("focus"),i.init(t(this)),i.notice&&i.notice(t(this),r.notice)}).on("blur",function(){console.log("blur");var e,c=t(this).val();o.notempty.test(c)?(e=n(c,r.error),e.pass?i.success(t(this)):0==e.msg||e.msg==s?void 0:i.error(t(this),e.msg)):i.init(t(this))})})},commit:function(){var o=this,s=this.option,i=this.option.config;t(s.sbtBtn).on("click",function(){var e=!0;t.each(i,function(i,r){var c,u=t(r.elem),l=u.val();if(1==r.required||"string"==typeof r.required)if(r.custom){if("true"!=t(r.elem).attr(s.vdn))return r.customcall(u,!1),e=!1,!1;r.customcall(u,!0)}else{if(!o.notempty.test(l))return s.required(u,r.required),e=!1,!1;if(c=n(l,r.error),console.log(c),!c.pass)return s.error(u,c.msg),e=!1,!1;s.success(u)}else if(r.custom){if("true"!=t(r.elem).attr(s.vdn))return r.customcall(u,!1),e=!1,!1;r.customcall(u,!0)}else if(o.notempty.test(l)){if(c=n(l,r.error),!c.pass)return s.error(u,c.msg),e=!1,!1;s.success(u)}}),console.log(e),e?s.sbtSucceed():s.sbtError()})}},o.validation=e}(jQuery,window);