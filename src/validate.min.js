!function(t,o,i){function s(t){for(var o=0;o<t.length;o++)t[o].custom!=i&&0!=t[o].custom||(t[o].custom=!1);return t}function n(t,o){var i={pass:!0};if(o&&o.length>0)for(var s=0;s<o.length;s++)if(!o[s].level(t)){i.pass=!1,i.msg=o[s].msg;break}return i}var r=function(t){this.option=t,this.option.vdn="data-vdn",this.option.config=s(this.option.config),this.notempty=/^\S+$/};r.prototype={constructor:r,listen:function(){var o=this,s=this.option,r=this.option.config;t.each(r,function(r,e){e.custom||t(e.elem).on("focus",function(){s.init(t(this)),s.notice&&s.notice(t(this),e.notice)}).on("blur",function(){var r,c=t(this).val();o.notempty.test(c)?(r=n(c,e.error),r.pass?s.success(t(this)):0==r.msg||r.msg==i?void 0:s.error(t(this),r.msg)):s.init(t(this))})})},commit:function(){var o=this,i=this.option,s=this.option.config;t(i.sbtBtn).on("click",function(){var r=!0;t.each(s,function(s,e){var c,u=t(e.elem),l=u.val();if(1==e.required||"string"==typeof e.required)if(e.custom){if("true"!=t(e.elem).attr(i.vdn))return e.customcall&&e.customcall(u,!1),r=!1,!1;e.customcall&&e.customcall(u,!0)}else{if(!o.notempty.test(l))return i.required(u,e.required),r=!1,!1;if(c=n(l,e.error),!c.pass)return i.error(u,c.msg),r=!1,!1;i.success(u)}else if(e.custom){if("true"!=t(e.elem).attr(i.vdn))return e.customcall&&e.customcall(u,!1),r=!1,!1;e.customcall&&e.customcall(u,!0)}else if(o.notempty.test(l)){if(c=n(l,e.error),!c.pass)return i.error(u,c.msg),r=!1,!1;i.success(u)}}),r?i.sbtSucceed():i.sbtError()})}},o.validation=r}(jQuery,window);